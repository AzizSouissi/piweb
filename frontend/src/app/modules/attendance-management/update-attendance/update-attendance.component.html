<div class="pcoded-main-container">
  <div class="pcoded-wrapper">
    <div class="pcoded-content">
      <div class="calendar-container">
        <div class="month-nav">
          <button (click)="switchMonth(-1)" class="nav-button">
            <span class="bi bi-arrow-left"></span>
          </button>
          <h2>{{ currentMonthYear }}</h2>
          <button (click)="switchMonth(1)" class="nav-button">
            <span class="bi bi-arrow-right"></span>
          </button>
        </div>
        <div class="calendar">
          <table>
            <thead>
              <tr>
                <th>Name of Employee</th>
                <ng-container *ngFor="let month of monthData">
                  <th *ngFor="let day of month.days">
                    {{ day }}
                  </th>
                </ng-container>
              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let employee of users">
                <tr>
                  <td class="employee-column">{{ employee.firstName }}</td>
                  <ng-container *ngFor="let month of monthData">
                    <td *ngFor="let day of month.days">
                      <div class="status-container">
                        <ng-container *ngIf="isWeekend(day)">
                          <span
                            class="holiday-icon bi bi-star-fill text-warning"
                          ></span>
                        </ng-container>
                        <ng-container
                          *ngIf="
                            getStatusForDay(employee, day, month.monthIndex) ===
                              'PRESENT' &&
                            getShiftTypeForDay(
                              employee,
                              day,
                              month.monthIndex
                            ) === 'FULL_DAY' &&
                            !isWeekend(day)
                          "
                        >
                          <span class="far fa-check-circle text-success"></span>
                        </ng-container>
                        <ng-container
                          *ngIf="
                            getStatusForDay(employee, day, month.monthIndex) ===
                              'PRESENT' &&
                            getShiftTypeForDay(
                              employee,
                              day,
                              month.monthIndex
                            ) === 'QUARTER_SHIFT' &&
                            !isWeekend(day)
                          "
                        >
                          <span class="bi bi-clock-history text-dark"></span>
                        </ng-container>
                        <ng-container
                          *ngIf="
                            getStatusForDay(employee, day, month.monthIndex) ===
                              'PRESENT' &&
                            getShiftTypeForDay(
                              employee,
                              day,
                              month.monthIndex
                            ) === 'HALF_DAY' &&
                            !isWeekend(day)
                          "
                        >
                          <span class="fas fa-adjust col-orange"></span>
                        </ng-container>
                        <ng-container
                          *ngIf="
                            getStatusForDay(employee, day, month.monthIndex) ===
                            'ABSENT'
                          "
                        >
                          <span class="far fa-times-circle text-danger"></span>
                        </ng-container>
                      </div>
                    </td>
                  </ng-container>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
